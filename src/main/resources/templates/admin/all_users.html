<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <head th:replace="fragments/layout :: head_fragment (pageTitle='All Users')">
        <title/>
    </head>
    <body>
        <div th:replace="fragments/header :: header"/>

        <!-- Modal Structure -->
        <div id="delete" class="modal">
            <div class="modal-content">
                <h4>Modal Header</h4>
                <p>A bunch of text</p>
            </div>
            <div class="modal-footer">
                <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
            </div>
        </div>
        <div class="container">

            <div class="card blue-grey darken-1 hoverable">
                <div class="card-content white-text">
                    <div class="row card-title col s12">

                        <div class="col s12 m10">
                            <span class="center-align" th:text="#{user_list}">Users</span>
                        </div>
                        <div class="col s12 m2">
                            <a class="btn waves-effect waves-light"  th:href="@{/admin/add_user}" ><i class="material-icons">person_add</i></a> 
                        </div>
                        
                        
                    </div>
                </div>
            </div>


            <div th:if="${not #lists.isEmpty(users)}">
                <div class="col s12" th:each="user : ${users}">
                    <!--                    <div class="row">
                                            <div class="col s12">
                                                <div class="card indigo darken-1">
                                                    <div class="card-content white-text">
                                                        <span class="card-title">
                                                            <span th:inline="text">[[${user.firstName + ' ' + user.lastName}]]</span>
                    
                                                        </span>
                                                        <p>I am good at containing small bits of information.
                                                            I am convenient because I require little markup to use effectively.</p>
                                                    </div>
                                                    <div class="card-action">
                                                        <a href="#" th:text="#{change}">This is a link</a>
                                                        <a href="#" th:text="#{delete}">This is a link</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>-->
                </div>

                <ul class="collapsible popout" data-collapsible="accordion" >
                    <li  th:each="user : ${users}">
                        <div class="collapsible-header" th:inline="text"><i class="material-icons">person</i>[[${user.firstName + ' ' + user.lastName}]]</div>
                        <div class="collapsible-body">

                            <button class="waves-effect waves-light btn" type="submit"><i class="material-icons">edit</i></button>


                            <button data-target="delete" class="waves-effect waves-light red btn modal-trigger"><i class="material-icons">delete</i></button>


                        </div>  
                    </li>

                </ul>

            </div>

        </div>
        <div th:replace="fragments/footer :: footer"/>

        <script type="text/javascript">
            $(document).ready(function () {
                $('.collapsible').collapsible();
                $('.modal').modal();
            });
        </script>
    </body>
</html>